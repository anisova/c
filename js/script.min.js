const resultSwiper=new Swiper(".result-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,navigation:{nextEl:".result-slider__next",prevEl:".result-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:30},900:{slidesPerView:3,spaceBetween:30,autoHeight:!0}}}),swiperPrev=document.querySelector(".result-slider__prev"),swiperNext=document.querySelector(".result-slider__next");function ham(){const e=document.querySelector(".hamburger"),t=document.querySelector(".ham-menu"),i=document.querySelector("body");function l(){e.classList.toggle("active"),t.classList.toggle("is-active"),i.classList.toggle("locked")}e.addEventListener("click",(function(e){e.preventDefault(),l()})),t.addEventListener("click",(function(e){"menu__link"===e.target.className&&l()}))}function toggleModal(e,t,i){const l=document.querySelectorAll(t),n=document.querySelector(e);if(n){const e=n.querySelector(i);l.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),document.body.style.overflowY="hidden",n.classList.add("active")})}),e.addEventListener("click",()=>{document.body.style.overflowY="",n.classList.remove("active")}),n.addEventListener("click",t=>{t.target===n&&e.click()})}}function toggleTab(){tabs=document.querySelectorAll(".tab"),tabContents=document.querySelectorAll(".tab-content");for(let e=0;e<tabs.length;e++)tabs[e].addEventListener("click",()=>{for(let e=0;e<tabs.length;e++)tabs[e].classList.remove("active"),tabContents[e].classList.remove("active");tabs[e].classList.add("active"),tabContents[e].classList.add("active")})}function brandVideo(){const e=document.querySelector(".video__btn"),t=document.querySelector(".meet");e.addEventListener("click",e=>{e.preventDefault(),t.insertAdjacentHTML("afterbegin",'<iframe class="meet__iframe" allow=autoplay width="100%" height="100%" src="https://www.youtube.com/embed/Mad2tToZwgY?autoplay=1"  frameborder="0" ></iframe>')})}function brandVideo1(){const e=document.querySelector(".brand__img"),t=document.querySelector(".brand__video"),i=document.querySelector(".brand__img");e.addEventListener("click",e=>{e.preventDefault(),t.insertAdjacentHTML("afterbegin",'<iframe class="brand__iframe" allow=autoplay allowfullscreen width="100%" height="100%" src="https://www.youtube.com/embed/qlhZK2sl8Ts?autoplay=1" frameborder="0"></iframe>'),i.style.display="none"})}function scrollAсtion(){window.addEventListener("scroll",()=>{document.documentElement.clientWidth>768&&elemAnimate(".h2","titleAnimation"),elemAnimate(".brand__text","appear-up"),elemAnimate(".brand__info","appear-up-info"),elemAnimate(".result-slide_slide1","in-scale_slide1"),elemAnimate(".result-slide_slide2","in-scale_slide2"),elemAnimate(".result-slide_slide3","in-scale_slide3"),elemAnimate(".result-slide_slide3","in-scale_slide3"),document.documentElement.clientWidth>900&&elemAnimate(".result-slider__next","in-scale_arrow-next")})}function isPartiallyVisible(e){let t=e.getBoundingClientRect(),i=t.top,l=t.bottom,n=t.height;return i+n>=0&&n+window.innerHeight>=l}function elemAnimate(e,t){document.querySelectorAll(e).forEach(e=>{isPartiallyVisible(e)&&e.classList.add(t)})}function menuFixed(){window.onscroll=function(){const e=document.querySelector(".menu"),t=document.querySelector(".sticky-back");let i=e.offsetTop;if(window.pageYOffset>i){e.classList.add("sticky");const i=document.querySelector(".sticky");t.style.visibility="visible",t.style.opacity="1",i.style.opacity="1"}else e.classList.remove("sticky"),t.style.visibility="hidden",t.style.opacity="0"}}function scrollToSection(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&document.querySelectorAll(".menu__link").forEach(t=>{t.classList.toggle("active",t.getAttribute("href").replace("#","")===e.target.id)})})},{threshold:.5});document.querySelectorAll(".section").forEach(t=>{e.observe(t)}),document.querySelector(".menu__list").addEventListener("click",e=>{if(e.target.classList.contains("menu__link")){e.preventDefault();const t=e.target.getAttribute("href").replace("#","");window.scrollTo({top:document.getElementById(t).offsetTop-document.querySelector(".sticky-back").offsetHeight,behavior:"smooth"})}})}function videoModal(e,t,i,l){const n=document.querySelectorAll(t),r=document.querySelector(e);if(r){const e=r.querySelector(i);n.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();document.querySelector(".video-modal__content").insertAdjacentHTML("afterbegin",`<iframe class ="video" width="960" height="540" src=${l} title="YouTube video player" frameborder="0" allow=autoplay allowfullscreen></iframe>`),r.classList.add("active"),document.body.style.overflowY="hidden"})}),e.addEventListener("click",()=>{r.classList.remove("active"),document.body.style.overflowY="";const e=document.querySelector(".video");null!=e&&e.remove()})}}function validateForms(e,t){new window.JustValidate(e,{rules:t,messages:{name:'Обязательное поле. Должно содержать только буквы и знак тире "-"',email:"Обязательное поле. Введите корректный адрес email",tel:"Обязательное поле. Введите номер телефона",city:"Обязательное поле. Введите название Вашего города"},submitHandler:function(e,t,i){console.log(e);let l=new FormData(e);fetch("mail.php",{method:"POST",body:l}).then((function(t){e.reset(),successModal(".thanks-modal",".btn-close")}))}})}function successModal(e,t){const i=document.querySelector(e),l=i.querySelector(t),n=document.querySelector(".submit-btn-wrap");document.body.style.overflowY="",i.classList.add("active"),n.style.pointerEvents="none",setTimeout(()=>l.click(),3e3),l.addEventListener("click",()=>{i.classList.remove("active"),document.body.style.overflowY="";document.querySelector(".form-modal").classList.remove("active")}),i.addEventListener("click",e=>{e.target===i&&l.click()})}swiperPrev.addEventListener("click",()=>{resultSwiper.slidePrev()}),swiperNext.addEventListener("click",()=>{resultSwiper.slideNext()}),window.onload=function(){new Swiper(".library-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,autoHeight:!0,centeredSlides:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".library-slider__next",prevEl:".library-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30},1e3:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".care-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,autoHeight:!0,centeredSlides:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".care-slider__next",prevEl:".care-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30},1e3:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".perm-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,autoHeight:!0,centeredSlides:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".perm-slider__next",prevEl:".perm-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30},1e3:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".styling-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,autoHeight:!0,centeredSlides:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".styling-slider__next",prevEl:".styling-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30},1e3:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".products-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,autoHeight:!0,centeredSlides:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".products-slider__next",prevEl:".products-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30},1e3:{slidesPerView:"auto",spaceBetween:30}}})},ham(),toggleModal(".form-modal",".btn",".btn-close"),toggleModal(".policy-modal",".btn_policy",".btn-close"),toggleTab(),brandVideo(),brandVideo1(),scrollAсtion(),menuFixed(),scrollToSection(),videoModal(".video-modal",".placeholder1-2",".btn-close_white","https://www.youtube.com/embed/80C5milVfO4?autoplay=1"),videoModal(".video-modal",".placeholder1-1",".btn-close_white","https://www.youtube.com/embed/XitxkwKyYLM?autoplay=1"),Inputmask({regex:"[a-zA-Zа-яА-я-]*"}).mask(document.getElementsByName("name")),Inputmask({regex:"[a-zA-Zа-яА-я-]*"}).mask(document.getElementsByName("city")),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("input[data-tel-input]"),t=function(e){return e.value.replace(/\D/g,"")},i=function(e){var i=e.target,l=t(i),n=e.clipboardData||window.clipboardData;if(n){var r=n.getData("Text");if(/\D/g.test(r))return void(i.value=l)}},l=function(e){var i=e.target,l=t(i),n=i.selectionStart,r="";if(!l)return i.value="";if(i.value.length==n){if(["7","8","9"].indexOf(l[0])>-1){"9"==l[0]&&(l="7"+l);var o="8"==l[0]?"8":"+7";r=i.value=o+" ",l.length>1&&(r+="("+l.substring(1,4)),l.length>=5&&(r+=") "+l.substring(4,7)),l.length>=8&&(r+="-"+l.substring(7,9)),l.length>=10&&(r+="-"+l.substring(9,11))}else r="+"+l.substring(0,16);i.value=r}else e.data&&/\D/g.test(e.data)&&(i.value=l)},n=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var r of e)r.addEventListener("keydown",n),r.addEventListener("input",l,!1),r.addEventListener("paste",i,!1)})),validateForms(".form",{email:{required:!0,email:!0},name:{required:!0},tel:{required:!0},city:{required:!0}});