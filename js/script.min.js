const resultSwiper=new Swiper(".result-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,navigation:{nextEl:".result-slider__next",prevEl:".result-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:30},900:{slidesPerView:3,spaceBetween:30}}}),swiperPrev=document.querySelector(".result-slider__prev"),swiperNext=document.querySelector(".result-slider__next");function ham(){const e=document.querySelector(".hamburger"),t=document.querySelector(".ham-menu"),o=document.querySelector("body");function l(){e.classList.toggle("active"),t.classList.toggle("is-active"),o.classList.toggle("locked")}e.addEventListener("click",(function(e){e.preventDefault(),l()})),t.addEventListener("click",(function(e){"menu__link"===e.target.className&&l()}))}function toggleModal(e,t,o){const l=document.querySelectorAll(t),i=document.querySelector(e);if(i){const e=i.querySelector(o);l.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),document.body.style.overflowY="hidden",i.classList.add("active")})}),e.addEventListener("click",()=>{document.body.style.overflowY="",i.classList.remove("active")}),i.addEventListener("click",t=>{t.target===i&&e.click()})}}function toggleTab(){tabs=document.querySelectorAll(".tab"),tabContents=document.querySelectorAll(".tab-content");for(let e=0;e<tabs.length;e++)tabs[e].addEventListener("click",()=>{for(let e=0;e<tabs.length;e++)tabs[e].classList.remove("active"),tabContents[e].classList.remove("active");tabs[e].classList.add("active"),tabContents[e].classList.add("active")})}function brandVideo(){const e=document.querySelector(".video__btn"),t=document.querySelector(".meet");e.addEventListener("click",e=>{e.preventDefault(),t.insertAdjacentHTML("afterbegin",'<iframe class="meet__iframe" allow=autoplay width="100%" height="100%" src="https://www.youtube.com/embed/Mad2tToZwgY?autoplay=1"  frameborder="0" ></iframe>')})}function brandVideo1(){const e=document.querySelector(".brand__img"),t=document.querySelector(".brand__video"),o=document.querySelector(".brand__img");e.addEventListener("click",e=>{e.preventDefault(),t.insertAdjacentHTML("afterbegin",'<iframe class="brand__iframe" allow=autoplay allowfullscreen width="100%" height="100%" src="https://www.youtube.com/embed/F1xwj-sWBDI?autoplay=1" frameborder="0"></iframe>'),o.style.display="none"})}function scrollAсtion(){window.addEventListener("scroll",()=>{document.documentElement.clientWidth>768&&elemAnimate(".h2","titleAnimation"),elemAnimate(".brand__text","appear-up"),elemAnimate(".brand__info","appear-up-info"),elemAnimate(".result-slide_slide1","in-scale_slide1"),elemAnimate(".result-slide_slide2","in-scale_slide2"),elemAnimate(".result-slide_slide3","in-scale_slide3"),elemAnimate(".result-slide_slide3","in-scale_slide3"),document.documentElement.clientWidth>900&&elemAnimate(".result-slider__next","in-scale_arrow-next")})}function isPartiallyVisible(e){let t=e.getBoundingClientRect(),o=t.top,l=t.bottom,i=t.height;return o+i>=0&&i+window.innerHeight>=l}function elemAnimate(e,t){document.querySelectorAll(e).forEach(e=>{isPartiallyVisible(e)&&e.classList.add(t)})}function menuFixed(){window.onscroll=function(){const e=document.querySelector(".menu"),t=document.querySelector(".sticky-back");let o=e.offsetTop;if(window.pageYOffset>o){e.classList.add("sticky");const o=document.querySelector(".sticky");t.style.visibility="visible",t.style.opacity="1",o.style.opacity="1"}else e.classList.remove("sticky"),t.style.visibility="hidden",t.style.opacity="0"}}function scrollToSection(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&document.querySelectorAll(".menu__link").forEach(t=>{t.classList.toggle("active",t.getAttribute("href").replace("#","")===e.target.id)})})},{threshold:.5});document.querySelectorAll(".section").forEach(t=>{e.observe(t)}),document.querySelector(".menu__list").addEventListener("click",e=>{if(e.target.classList.contains("menu__link")){e.preventDefault();const t=e.target.getAttribute("href").replace("#","");window.scrollTo({top:document.getElementById(t).offsetTop-document.querySelector(".sticky-back").offsetHeight,behavior:"smooth"})}})}function videoModal(e,t,o,l){const i=document.querySelectorAll(t),d=document.querySelector(e);if(d){const e=d.querySelector(o);i.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();document.querySelector(".video-modal__content").insertAdjacentHTML("afterbegin",`<iframe class ="video" width="960" height="540" src=${l} title="YouTube video player" frameborder="0" allow=autoplay allowfullscreen></iframe>`),d.classList.add("active"),document.body.style.overflowY="hidden"})}),e.addEventListener("click",()=>{d.classList.remove("active"),document.body.style.overflowY="";const e=document.querySelector(".video");null!=e&&e.remove()})}}function validateForms(e,t){new window.JustValidate(e,{rules:t,messages:{name:'Обязательное поле. Должно содержать только буквы и знак тире "-"',email:"Обязательное поле. Введите корректный адрес email",tel:"Обязательное поле. Введите номер телефона",city:"Обязательное поле. Введите название Вашего города"},submitHandler:function(e,t,o){console.log(e);let l=new FormData(e);fetch("mail.php",{method:"POST",body:l}).then((function(t){e.reset(),successModal(".thanks-modal",".btn-close")}))}})}function successModal(e,t){const o=document.querySelector(e),l=o.querySelector(t),i=document.querySelector(".submit-btn-wrap");document.body.style.overflowY="",o.classList.add("active"),i.style.pointerEvents="none",setTimeout(()=>l.click(),3e3),l.addEventListener("click",()=>{o.classList.remove("active"),document.body.style.overflowY="";document.querySelector(".form-modal").classList.remove("active")}),o.addEventListener("click",e=>{e.target===o&&l.click()})}swiperPrev.addEventListener("click",()=>{resultSwiper.slidePrev()}),swiperNext.addEventListener("click",()=>{resultSwiper.slideNext()}),window.onload=function(){new Swiper(".library-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,autoHeight:!0,centeredSlides:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".library-slider__next",prevEl:".library-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30},1e3:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".care-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,autoHeight:!0,centeredSlides:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".care-slider__next",prevEl:".care-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30},1e3:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".perm-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,autoHeight:!0,centeredSlides:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".perm-slider__next",prevEl:".perm-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30},1e3:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".styling-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,autoHeight:!0,centeredSlides:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".styling-slider__next",prevEl:".styling-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30},1e3:{slidesPerView:"auto",spaceBetween:30}}}),new Swiper(".products-slider",{direction:"horizontal",loop:!0,slideToClickedSlide:!0,autoHeight:!0,centeredSlides:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".products-slider__next",prevEl:".products-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30},1e3:{slidesPerView:"auto",spaceBetween:30}}})},ham(),toggleModal(".form-modal",".btn",".btn-close"),toggleModal(".policy-modal",".btn_policy",".btn-close"),toggleTab(),brandVideo(),brandVideo1(),scrollAсtion(),menuFixed(),scrollToSection(),videoModal(".video-modal",".placeholder1-1",".btn-close_white","https://www.youtube.com/embed/XitxkwKyYLM?autoplay=1"),videoModal(".video-modal",".placeholder1-2",".btn-close_white","https://www.youtube.com/embed/lksRaXutACk?autoplay=1"),videoModal(".video-modal",".placeholder1-3",".btn-close_white","https://www.youtube.com/embed/WsZGuLwIcXc?autoplay=1"),videoModal(".video-modal",".placeholder1-4",".btn-close_white","https://www.youtube.com/embed/VBYRccSJG38?autoplay=1"),videoModal(".video-modal",".placeholder1-5",".btn-close_white","https://www.youtube.com/embed/8VijW8BVsyQ?autoplay=1"),videoModal(".video-modal",".placeholder1-6",".btn-close_white","https://www.youtube.com/embed/NrG1oQHH2yM?autoplay=1"),videoModal(".video-modal",".placeholder1-7",".btn-close_white","https://www.youtube.com/embed/7XVCrvdeRYs?autoplay=1"),videoModal(".video-modal",".placeholder1-8",".btn-close_white","https://www.youtube.com/embed/xLfTcIAnduw?autoplay=1"),videoModal(".video-modal",".placeholder1-9",".btn-close_white","https://www.youtube.com/embed/pHFMdZFBMlo?autoplay=1"),videoModal(".video-modal",".placeholder2-1",".btn-close_white","https://www.youtube.com/embed/80C5milVfO4?autoplay=1"),videoModal(".video-modal",".placeholder2-2",".btn-close_white","https://www.youtube.com/embed/ICgRcdpUxEA?autoplay=1"),videoModal(".video-modal",".placeholder2-3",".btn-close_white","https://www.youtube.com/embed/wCRjP2fNo00?autoplay=1"),videoModal(".video-modal",".placeholder2-4",".btn-close_white","https://www.youtube.com/embed/RmvgM550dVM?autoplay=1"),videoModal(".video-modal",".placeholder3-1",".btn-close_white","https://www.youtube.com/embed/oB5wIeCAKsc?autoplay=1"),videoModal(".video-modal",".placeholder3-2",".btn-close_white","https://www.youtube.com/embed/n8dpI5ufKC8?autoplay=1"),videoModal(".video-modal",".placeholder4-1",".btn-close_white","https://www.youtube.com/embed/ugu_ulLDwIc?autoplay=1"),videoModal(".video-modal",".placeholder4-2",".btn-close_white","https://www.youtube.com/embed/k8FEPKZ0Vvs?autoplay=1"),videoModal(".video-modal",".placeholder5-1",".btn-close_white","https://www.youtube.com/embed/VPOfq2mEP6k?autoplay=1"),videoModal(".video-modal",".placeholder5-3",".btn-close_white","https://www.youtube.com/embed/ek8EgMC4u_M?autoplay=1"),videoModal(".video-modal",".placeholder5-4",".btn-close_white","https://www.youtube.com/embed/eT4bsvOKGCo?autoplay=1"),videoModal(".video-modal",".placeholder5-5",".btn-close_white","https://www.youtube.com/embed/XRikMseKDF0?autoplay=1"),videoModal(".video-modal",".placeholder5-6",".btn-close_white","https://www.youtube.com/embed/AcxLJ_wufXc?autoplay=1"),videoModal(".video-modal",".placeholder5-7",".btn-close_white","https://www.youtube.com/embed/E2xPvax4K5E?autoplay=1"),videoModal(".video-modal",".placeholder5-8",".btn-close_white","https://www.youtube.com/embed/Mad2tToZwgY?autoplay=1"),Inputmask({regex:"[a-zA-Zа-яА-я-]*"}).mask(document.getElementsByName("name")),Inputmask({regex:"[a-zA-Zа-яА-я-]*"}).mask(document.getElementsByName("city")),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("input[data-tel-input]"),t=function(e){return e.value.replace(/\D/g,"")},o=function(e){var o=e.target,l=t(o),i=e.clipboardData||window.clipboardData;if(i){var d=i.getData("Text");if(/\D/g.test(d))return void(o.value=l)}},l=function(e){var o=e.target,l=t(o),i=o.selectionStart,d="";if(!l)return o.value="";if(o.value.length==i){if(["7","8","9"].indexOf(l[0])>-1){"9"==l[0]&&(l="7"+l);var a="8"==l[0]?"8":"+7";d=o.value=a+" ",l.length>1&&(d+="("+l.substring(1,4)),l.length>=5&&(d+=") "+l.substring(4,7)),l.length>=8&&(d+="-"+l.substring(7,9)),l.length>=10&&(d+="-"+l.substring(9,11))}else d="+"+l.substring(0,16);o.value=d}else e.data&&/\D/g.test(e.data)&&(o.value=l)},i=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var d of e)d.addEventListener("keydown",i),d.addEventListener("input",l,!1),d.addEventListener("paste",o,!1)})),validateForms(".form",{email:{required:!0,email:!0},name:{required:!0},tel:{required:!0},city:{required:!0}});